# 抖音带货工具 - 小白部署指南

这是一个抖音带货辅助工具，包含图片批量抠图、视频提取、商品取图、AI文案生成、语音合成等功能。

**即使你完全不懂编程，只要按照这个文档一步步操作，也能成功运行！**

---

## 📋 前置准备

### 你需要准备的东西：

1. **一台电脑**（Windows、Mac 都可以）
2. **稳定的网络连接**
3. **腾讯云账号**（用于语音合成功能，免费额度足够使用）

---

## 🚀 第一步：安装必要软件

### 1.1 安装 Python

**Windows 用户：**

1. 打开浏览器，访问：https://www.python.org/downloads/
2. 点击黄色的 "Download Python 3.11.x" 按钮
3. 下载完成后，双击安装包
4. **重要**：安装时勾选 "Add Python to PATH"（添加到环境变量）
5. 点击 "Install Now"
6. 等待安装完成

**Mac 用户：**

1. 打开"终端"应用（在 应用程序 → 实用工具 中）
2. 复制以下命令，粘贴到终端，按回车：
   ```bash
   /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
   ```
3. 等待 Homebrew 安装完成（可能需要输入电脑密码）
4. 再输入以下命令安装 Python：
   ```bash
   brew install python@3.11
   ```

**验证安装：**

打开命令行（Windows 叫"命令提示符"，Mac 叫"终端"），输入：
```bash
python --version
```

如果显示类似 `Python 3.11.x`，说明安装成功！

---

### 1.2 安装 Git

**Windows 用户：**

1. 访问：https://git-scm.com/download/win
2. 下载并安装（一路点"下一步"即可）

**Mac 用户：**

Mac 通常已经自带 Git，如果没有，在终端输入：
```bash
brew install git
```

**验证安装：**

命令行输入：
```bash
git --version
```

显示版本号即为成功。

---

### 1.3 安装 FFmpeg（用于音频处理）

**Windows 用户：**

1. 访问：https://www.gyan.dev/ffmpeg/builds/
2. 下载 "ffmpeg-release-essentials.zip"
3. 解压到 `C:\ffmpeg`
4. 添加到环境变量：
   - 右键"此电脑" → 属性 → 高级系统设置 → 环境变量
   - 在"系统变量"中找到 Path，点击编辑
   - 新建一条：`C:\ffmpeg\bin`
   - 确定保存

**Mac 用户：**

终端输入：
```bash
brew install ffmpeg
```

**验证安装：**

```bash
ffmpeg -version
```

显示版本信息即为成功。

---

## 📥 第二步：下载项目代码

### 2.1 打开命令行

- **Windows**：按 `Win + R`，输入 `cmd`，回车
- **Mac**：打开"终端"应用

### 2.2 选择存放位置

输入以下命令进入你想存放项目的文件夹。

**示例**（Windows）：
```bash
cd C:\Users\你的用户名\Desktop
```

**示例**（Mac）：
```bash
cd ~/Desktop
```

### 2.3 克隆项目代码

复制以下命令，粘贴到命令行，回车：

```bash
git clone https://github.com/orgMir123/dou-image-tool.git
```

等待下载完成（可能需要几分钟）。

### 2.4 进入项目文件夹

```bash
cd dou-image-tool
```

---

## 🔧 第三步：配置 API 密钥

### 3.1 获取腾讯云密钥

**为什么需要？**
语音合成功能需要调用腾讯云 API，但每天有免费额度，足够个人使用。

**获取步骤：**

1. 打开浏览器，访问：https://cloud.tencent.com/
2. 注册/登录腾讯云账号（使用微信扫码即可）
3. 登录后，访问：https://console.cloud.tencent.com/cam/capi
4. 点击"新建密钥"
5. 记录下 **SecretId** 和 **SecretKey**（先复制到记事本保存）

### 3.2 创建配置文件

在项目文件夹中创建一个名为 `.env` 的文件：

**Windows 用户：**

1. 在项目文件夹中，复制 `.env.example` 文件
2. 重命名为 `.env`（注意没有任何后缀）
3. 用记事本打开 `.env` 文件

**Mac 用户：**

在终端输入：
```bash
cp .env.example .env
nano .env
```

### 3.3 填写密钥

将文件内容修改为：

```bash
# 腾讯云配置（必填）
TENCENT_SECRET_ID=你刚才复制的SecretId
TENCENT_SECRET_KEY=你刚才复制的SecretKey

# 以下可选，暂时不用填
ALIYUN_ACCESS_KEY_ID=
ALIYUN_ACCESS_KEY_SECRET=
ALIYUN_APPKEY=
BAIDU_API_KEY=
BAIDU_SECRET_KEY=
```

**重要提示：**
- 把 `你刚才复制的SecretId` 替换成真实的 SecretId
- 把 `你刚才复制的SecretKey` 替换成真实的 SecretKey
- **不要有多余的空格**
- **不要加引号**

**Windows 保存方式：**
按 `Ctrl + S` 保存，关闭记事本。

**Mac 保存方式：**
按 `Ctrl + O` 保存，按 `Ctrl + X` 退出。

---

## 📦 第四步：安装项目依赖

### 4.1 创建虚拟环境

在命令行输入：

**Windows：**
```bash
python -m venv venv
venv\Scripts\activate
```

**Mac：**
```bash
python3 -m venv venv
source venv/bin/activate
```

**成功标志：**
命令行前面会出现 `(venv)` 字样。

### 4.2 安装依赖包

复制以下命令，粘贴到命令行，回车：

```bash
pip install -r requirements.txt
```

等待安装完成（可能需要5-10分钟，取决于网速）。

**如果安装速度很慢，可以使用国内镜像源：**

```bash
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

---

## 🎉 第五步：启动项目

### 5.1 运行项目

在命令行输入：

```bash
python web_app.py
```

### 5.2 查看启动信息

如果看到类似以下内容，说明启动成功：

```
============================================================
                    Web抠图工具
============================================================

访问地址: http://localhost:5001

功能:
  1. 上传图片（支持多张）
  2. 自动去除背景
  3. 下载处理后的图片

按 Ctrl+C 停止服务
============================================================

 * Running on http://127.0.0.1:5001
```

### 5.3 打开浏览器访问

打开浏览器（推荐 Chrome），在地址栏输入：

```
http://localhost:5001
```

按回车，就能看到工具界面了！🎊

---

## 🛠️ 常见问题

### Q1: 提示"找不到 python 命令"

**解决方法：**
- Windows：重新安装 Python，确保勾选"Add Python to PATH"
- Mac：使用 `python3` 代替 `python`

### Q2: 安装依赖时报错

**解决方法：**
```bash
pip install --upgrade pip
pip install -r requirements.txt --no-cache-dir
```

### Q3: 启动后无法访问

**解决方法：**
- 检查是否有其他程序占用 5001 端口
- 关闭防火墙或杀毒软件重试
- 检查 `.env` 文件配置是否正确

### Q4: 语音合成失败

**解决方法：**
- 检查 `.env` 文件中的腾讯云密钥是否正确
- 登录腾讯云控制台，确认账号有免费额度
- 查看控制台是否有错误提示

### Q5: 如何停止服务？

在命令行窗口按 `Ctrl + C`

### Q6: 下次如何再次启动？

1. 打开命令行
2. 进入项目文件夹：`cd dou-image-tool`
3. 激活虚拟环境：
   - Windows：`venv\Scripts\activate`
   - Mac：`source venv/bin/activate`
4. 启动：`python web_app.py`

---

## 📚 功能介绍

### 1. 批量抠图
上传多张图片，一键去除背景，下载透明背景图。

### 2. 视频提取
粘贴抖音视频链接，提取视频文件和封面图。

### 3. 商品取图
粘贴淘宝/京东商品链接，自动下载所有商品图片。

### 4. AI 文案生成
选择商品类别和模板，一键生成带货文案。

### 5. 语音合成
输入文案，使用腾讯云专业声音复刻，生成带货音频。

---

## 🆘 需要帮助？

如果遇到问题，可以：

1. 仔细阅读错误提示信息
2. 检查每一步操作是否正确
3. 重启电脑后重试
4. 联系项目提供者寻求帮助

---

## 🔐 安全提示

- **不要泄露 `.env` 文件**，里面包含你的 API 密钥
- **不要将 `.env` 文件上传到任何公开网站**
- 如果密钥泄露，立即登录腾讯云控制台删除旧密钥，创建新密钥

---

## 🎯 恭喜！

如果你已经看到了工具界面，说明部署成功了！

现在可以开始使用各种功能啦~ 祝你带货顺利！💰

---

**最后更新时间：** 2025-11-30
